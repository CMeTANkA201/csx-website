<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>CSX — Скачать приватный сервер</title>
  <meta name="description" content="Сайт скачивания приватного сервера CSX. Официальный сайт." />
  <!-- Display fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Russo+One&family=Archivo+Black&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0f14; --ink:#e9f1ff; --stroke:#bfe1ff55; --accent:#5aa9ff;
      --glass: radial-gradient(120% 180% at 30% 10%, #ffffff12 0%, #ffffff07 60%, #ffffff0a 100%);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; background: radial-gradient(1200px 800px at 70% 10%, #0f1a28 0%, var(--bg) 40%) fixed; color:var(--ink); overflow-x:hidden; }

    /* ======= Canvas shards background ======= */
    #shards{ position:fixed; inset:0; z-index:-1; display:block; width:100%; height:100%; }

    /* ======= NAVBAR ======= */
    .nav{ position:sticky; top:0; z-index:50; display:flex; align-items:center; justify-content:center; gap:12px; padding:16px; backdrop-filter: blur(10px) saturate(140%); -webkit-backdrop-filter: blur(10px) saturate(140%); background: linear-gradient( to bottom, #0b0f1411, #0b0f1400 ); }
    .nav-inner{ display:flex; gap:12px; padding:8px; border-radius:18px; background:#ffffff08; border:1px solid #ffffff12; }
    .chip{ position:relative; display:inline-flex; align-items:center; gap:10px; cursor:pointer; padding:10px 16px; border-radius:9999px; text-decoration:none; color:var(--ink); background: radial-gradient(120% 180% at 30% 10%, #ffffff10 0%, #ffffff05 60%, #ffffff08 100%); border:1.5px solid var(--stroke); box-shadow: inset 0 0 0.5px #ffffff99, 0 6px 18px #00000055, 0 1px 0 #ffffff0f; transition: transform .15s ease, box-shadow .15s ease, background .2s ease; backdrop-filter: blur(14px) saturate(150%); -webkit-backdrop-filter: blur(14px) saturate(150%); }
    .chip:hover{ transform: translateY(-1px) scale(1.02); box-shadow: inset 0 0 0.6px #ffffffaa, 0 10px 28px #00000066; }
    .chip:active{ transform: translateY(0) scale(0.99); }
    .chip .dot{ width:8px; height:8px; border-radius:999px; background: radial-gradient(circle at 30% 30%, var(--accent), #2f89ff); box-shadow: 0 0 10px var(--accent); }
    .chip .tglogo{ width:18px; height:18px; display:inline-block; }

    /* ======= HERO ======= */
    .hero{ position:relative; min-height:calc(100svh - 80px); display:grid; place-items:center; padding:48px 16px 56px; }
    .hero-wrap{ perspective:900px; perspective-origin:50% 30%; }
    .title3d{ position:relative; font-family:'Archivo Black','Anton','Russo One', system-ui, sans-serif; font-weight:900; font-size:clamp(60px, 14vw, 230px); letter-spacing:0em; line-height:0.85; text-transform:uppercase; text-shadow: 0 3px 0 #1f2d44, 0 18px 40px #000a; transform-style:preserve-3d; will-change:transform, filter; filter: drop-shadow(0 30px 60px #0008); transform-origin:center center; }
    .title3d .stroke { position:absolute; inset:0; color:transparent; -webkit-text-stroke: 22px #88c4ff22; z-index:-1; filter: blur(4px); transform: translateZ(-30px) scale(1.02); backface-visibility:hidden; }
    .title3d .fill{ background: linear-gradient(180deg, #f5fbff 0%, #cfe3ff 35%, #a4ccff 60%, #eaf4ff 100%); -webkit-background-clip:text; background-clip:text; color:transparent; position:relative; display:inline-block; backface-visibility:hidden; }

    .hero-cta{ margin-top:26px; display:flex; gap:14px; align-items:center; justify-content:center; flex-wrap:wrap; }
    .btn{ position:relative; display:inline-flex; align-items:center; gap:12px; padding:16px 26px; border-radius:18px; font-weight:700; font-size:18px; color:#08121c; text-decoration:none; cursor:pointer; user-select:none; background: linear-gradient(180deg, #b6e1ff, #6fb6ff); border:1.5px solid #ffffffa5; box-shadow: 0 10px 30px #2a8cff55, inset 0 0 6px #ffffffaa; transform: translateZ(0); transition: transform .15s ease, box-shadow .2s ease; }
    .btn:hover{ transform: translateY(-2px) scale(1.02); box-shadow: 0 18px 42px #2a8cff80, inset 0 0 6px #ffffffcc; }
    .btn:active{ transform: translateY(0) scale(0.99); }
    .btn .arrow{ width:16px; height:16px; border:2px solid currentColor; border-left:none; border-top:none; transform: rotate(-45deg); }

    /* ======= SECTIONS & CARDS ======= */
    section{ padding:64px 16px; }
    .container{ max-width:1100px; margin:0 auto; }
    .card{ background: var(--glass); border:1.5px solid var(--stroke); border-radius:20px; padding:22px; box-shadow: inset 0 0 0.5px #ffffffaa, 0 12px 30px #00000066; backdrop-filter: blur(14px) saturate(150%); -webkit-backdrop-filter: blur(14px) saturate(150%); }
    .grid{ display:grid; gap:16px; grid-template-columns: repeat( auto-fit, minmax(260px, 1fr) ); }
    h2{ margin:0 0 14px; font-size:28px; letter-spacing:0em; }
    p{ margin:0 10px 10px 0; opacity:0.85; }

    /* ======= GALLERY (glass cards) ======= */
    .gallery-grid{ display:grid; gap:18px; grid-template-columns: repeat( auto-fit, minmax(280px, 1fr) ); }
    .gcard{ position:relative; border-radius:22px; border:1.5px solid var(--stroke); background: var(--glass); overflow:hidden; box-shadow: inset 0 0 0.5px #ffffffaa, 0 14px 36px #00000066; backdrop-filter: blur(14px) saturate(150%); -webkit-backdrop-filter: blur(14px) saturate(150%); transform: translateZ(0); transition: transform .2s ease, box-shadow .2s ease; cursor: zoom-in; }
    .gcard:hover{ transform: translateY(-4px); box-shadow: inset 0 0 0.5px #ffffffaa, 0 24px 54px #00000088; }
    .gimg{ display:block; width:100%; aspect-ratio:16/9; object-fit:cover; filter:saturate(105%) contrast(102%); }
    .gcap{ position:absolute; left:12px; bottom:12px; right:12px; font-size:14px; padding:8px 10px; border-radius:14px; background:#0b1420a6; border:1px solid #ffffff2a; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }

    /* lightbox viewer */
    .viewer{ position:fixed; inset:0; display:none; place-items:center; background:rgba(5,8,13,.84); z-index:60; }
    .viewer.show{ display:grid; }
    .viewer img{ max-width:min(92vw,1400px); max-height:86vh; border-radius:18px; box-shadow:0 20px 60px #000c; border:1px solid #ffffff2a; }
    .viewer .close{ position:absolute; top:18px; right:18px; width:44px; height:44px; border-radius:999px; border:1px solid #ffffff33; background:#ffffff11; color:#fff; font-size:22px; display:grid; place-items:center; cursor:pointer; }

    /* ======= Footer ======= */
    footer{ padding:30px 16px 50px; text-align:center; opacity:0.85; font-size:13px; }

    .hide-on-mobile{ display:inline; }
    @media (max-width:560px){ .hide-on-mobile{ display:none; } }
  </style>
</head>
<body>
  <canvas id="shards"></canvas>

  <!-- NAV -->
  <nav class="nav">
    <div class="nav-inner">
      <a class="chip" href="#home" title="Главная"><span class="dot"></span><span>Главная</span></a>
      <a class="chip" href="#download" title="Скачать CSX"><span class="dot"></span><span>Скачать CSX</span></a>
      <a class="chip" id="go-tg" href="https://t.me/Standoff_CSX" target="_blank" rel="noopener" title="Перейти в Telegram разработчика">
        <svg class="tglogo" viewBox="0 0 24 24" aria-hidden="true">
          <defs><linearGradient id="tgGrad" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#9fd3ff"/><stop offset="100%" stop-color="#57b0ff"/></linearGradient></defs>
          <circle cx="12" cy="12" r="11" fill="url(#tgGrad)" opacity="0.65"/>
          <path d="M20.3 6.2c.3-.9-.6-1.3-1.3-1L4.2 11.2c-.9.3-.8 1.1-.1 1.3l3.8 1.2 1.5 4.7c.2.6.5.8 1 .8.4 0 .6-.2.9-.5l2.1-2 4.4 3.2c.8.4 1.3.2 1.5-.7l1.0-12.0zM8.9 12.9l8.0-5.0-6.0 6.6-.3 3.2-1.7-4.8z" fill="#fff" opacity="0.95"/>
        </svg>
        <span>Telegram разработчика</span>
      </a>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero" id="home">
    <div class="hero-wrap">
      <div class="title3d" id="title3d" aria-label="CSX">
        <span class="fill">CSX</span>
        <span class="stroke">CSX</span>
      </div>
      <div class="hero-cta">
        <button class="btn" id="downloadBtn" title="Открыть Telegram‑бота для скачивания">Скачать CSX <span class="arrow"></span></button>
      </div>
    </div>
  </header>

  <!-- DOWNLOAD SECTION -->
  <section id="download">
    <div class="container grid">
      <article class="card">
        <h2>Скачать через Telegram‑бота</h2>
        <p>Нажми кнопку — бот <strong>@CSX_Private_bot</strong> откроется в новом окне.</p>
        <p style="margin-top:10px"><button class="btn" id="downloadBtn2">Открыть бота</button></p>
      </article>
      <article class="card">
        <h2>Telegram канал разработчика</h2>
        <p>Новости и релизы в канале <strong>@Standoff_CSX</strong>.</p>
        <p style="margin-top:10px"><a class="btn" href="https://t.me/Standoff_CSX" target="_blank" rel="noopener">Открыть канал</a></p>
      </article>
    </div>
  </section>

  <!-- GALLERY SECTION (glass cards) -->
  <section id="gallery">
    <div class="container">
      <h2>Скриншоты</h2>
      <div class="gallery-grid">
        <figure class="gcard" data-cap="Sandstone — загрузка">
          <img class="gimg" loading="lazy" alt="Sandstone — загрузка" src=\"./img/csx-1.jpg\">
          <figcaption class="gcap">Sandstone — загрузка</figcaption>
        </figure>
        <figure class="gcard" data-cap="Инвентарь CSX">
          <img class="gimg" loading="lazy" alt="Инвентарь CSX" src=\"./img/csx-2.jpg\">
          <figcaption class="gcap">Инвентарь CSX</figcaption>
        </figure>
        <figure class="gcard" data-cap="Ночной Mirage — нож">
          <img class="gimg" loading="lazy" alt="Ночной Mirage — нож" src=\"./img/csx-3.jpg\">
          <figcaption class="gcap">Ночной Mirage — нож</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- ABOUT SECTION -->
  <section>
    <div class="container grid">
      $1
        <p><strong>CSX — официальный сайт</strong> для скачивания приватного сервера.</p>
      </article>
    </div>
  </section>

  <footer>
    © <span id="year"></span> CSX — Официальный сайт.
  </footer>

  <!-- Viewer (lightbox) -->
  <div class="viewer" id="viewer" aria-hidden="true">
    <img id="viewerImg" alt="Скриншот CSX"/>
    <button class="close" id="viewerClose" title="Закрыть">✕</button>
  </div>

  <script>
  // ===== Links =====
  const BOT_URL = 'https://t.me/CSX_Private_bot';
  document.getElementById('downloadBtn').addEventListener('click', () => window.open(BOT_URL, '_blank'));
  document.getElementById('downloadBtn2').addEventListener('click', () => window.open(BOT_URL, '_blank'));
  document.getElementById('year').textContent = new Date().getFullYear();

  // ===== Hero title: intro spin (ends facing forward), then subtle cursor influence =====
  (function(){
    const el = document.getElementById('title3d');
    let tiltX = 0, tiltY = 0;      // actual
    let tX = 0, tY = 0;            // targets from cursor
    const AMPL_X = 8.0; const AMPL_Y = 12.0; const EASE = 0.12; // very soft

    // Intro spin config — ends at 720° (same orientation as start)
    const tStart = performance.now();
    const INTRO_HOLD = 200; const INTRO_DUR  = 5200; const TOTAL_SPIN = 720;

    function onMove(e){
      const w = innerWidth, h = innerHeight;
      const x = (e.clientX ?? (e.touches&&e.touches[0].clientX) ?? w/2);
      const y = (e.clientY ?? (e.touches&&e.touches[0].clientY) ?? h/2);
      const nx = (x / w) * 2 - 1;  const ny = (y / h) * 2 - 1;
      tX = -ny * AMPL_X; tY = nx * AMPL_Y;
    }
    addEventListener('mousemove', onMove, {passive:true});
    addEventListener('touchmove', onMove, {passive:true});

    function easeOutCubic(u){ return 1 - Math.pow(1 - u, 3); }

    function loop(now){
      tiltX += (tX - tiltX) * EASE;
      tiltY += (tY - tiltY) * EASE;
      const dt = now - tStart - INTRO_HOLD; let baseY = 0;
      if(dt > 0){ const p = Math.min(1, dt / INTRO_DUR); baseY = TOTAL_SPIN * easeOutCubic(p); }
      el.style.transform = `rotateX(${tiltX.toFixed(2)}deg) rotateY(${(baseY + tiltY).toFixed(2)}deg)`;
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  })();

  // ===== Glass shards: assemble -> explode -> hang + reflections (ultra soft) =====
  (function(){
    const canvas = document.getElementById('shards');
    const ctx = canvas.getContext('2d');
    let W, H, DPR = Math.min(2, window.devicePixelRatio || 1);

    function resize(){
      W = canvas.width  = Math.floor(innerWidth * DPR);
      H = canvas.height = Math.floor(innerHeight * DPR);
      canvas.style.width = innerWidth + 'px'; canvas.style.height = innerHeight + 'px';
      initShards();
      assignReflectionsOnce = false; // reassign after resize
    }
    window.addEventListener('resize', resize);

    // try to load screenshots from ./glass/glass-1.jpg..glass-12.jpg
    const GLASS_SOURCES = Array.from({length:12}, (_,i)=>`./glass/glass-${i+1}.jpg`);
    let GLASS_IMAGES = [];
    function loadImage(src){
      return new Promise(res=>{ const img = new Image(); img.decoding='async'; img.loading='eager'; img.crossOrigin='anonymous'; img.onload=()=>res(img); img.onerror=()=>res(null); img.src=src; });
    }
    Promise.all(GLASS_SOURCES.map(loadImage)).then(list=>{ GLASS_IMAGES = list.filter(Boolean); });

    // shards state
    const SHARDS = [];
    const COUNT = 240; // количество осколков
    let assignReflectionsOnce = false;

    // mouse with smoothing for soft parallax (strength tuned elsewhere)
    const mouse = { tx:0.5, ty:0.5, x:0.5, y:0.5 };
    function onMove(e){
      const x = (e.clientX ?? (e.touches&&e.touches[0].clientX) ?? innerWidth/2) / innerWidth;
      const y = (e.clientY ?? (e.touches&&e.touches[0].clientY) ?? innerHeight/2) / innerHeight;
      mouse.tx = x; mouse.ty = y;
    }
    addEventListener('mousemove', onMove, {passive:true});
    addEventListener('touchmove', onMove, {passive:true});

    // timings for assemble -> explode -> settle
    let t0 = performance.now(); const HOLD = 320; const BURST = 1200;
    function easeOutCubic(u){ return 1 - Math.pow(1 - u, 3); }

    function initShards(){
      SHARDS.length = 0; const cx = W/2, cy = H/2;
      for(let i=0;i<COUNT;i++){
        const d = Math.random()*1.2 + 0.2; const size = (Math.random()*16 + 6) * d;
        const homeX = Math.random()*W; const homeY = Math.random()*H;
        SHARDS.push({
          x: cx + (Math.random()-0.5)*18*DPR,
          y: cy + (Math.random()-0.5)*10*DPR,
          homeX, homeY,
          r: Math.random()*Math.PI*2,
          vr: (Math.random()-0.5)*0.0010,
          s: size, d, a: 0.55 + Math.random()*0.25,
          // reflection params (optional)
          img:null, refScale:1, refAlpha:0.2, flip:false, refUX:(Math.random()-0.5)*0.6, refUY:(Math.random()-0.5)*0.6
        });
      }
      t0 = performance.now();
    }

    function pathShard(_w,_h){
      ctx.beginPath();
      ctx.moveTo(-_w*0.5, -_h);
      ctx.lineTo(_w*0.65, -_h*0.15);
      ctx.lineTo(-_w*0.25, _h*0.85);
      ctx.closePath();
    }

    function drawShard(s){
      ctx.save(); ctx.translate(s.x, s.y); ctx.rotate(s.r);
      const w = s.s * 1.2, h = s.s * (0.7 + Math.random()*0.2);

      // optional reflection from screenshots
      if(s.img){
        pathShard(w,h);
        ctx.save();
        ctx.clip();
        ctx.globalAlpha = s.refAlpha;
        // mirror a bit like true reflection
        if(s.flip){ ctx.scale(-1,1); }
        const iw = s.img.width, ih = s.img.height;
        const scale = Math.max((w*1.6)/iw, (h*1.6)/ih) * s.refScale;
        const dw = iw*scale, dh = ih*scale;
        let dx = -w*0.5 + s.refUX*w; let dy = -h + s.refUY*h;
        if(s.flip){ dx = -dx - dw; }
        // slight offset so reflection subtly parallax with mouse
        const par = 6 * (1.4 - s.d);
        dx += (mouse.x - 0.5) * par; dy += (mouse.y - 0.5) * par;
        ctx.drawImage(s.img, dx, dy, dw, dh);
        ctx.restore();
      }

      // glass fill & stroke over reflection
      const grad = ctx.createLinearGradient(-w, -h, w, h);
      grad.addColorStop(0, `rgba(215,240,255,${0.08 + 0.10*s.d})`);
      grad.addColorStop(0.5, `rgba(140,190,255,${0.05 + 0.08*s.d})`);
      grad.addColorStop(1, `rgba(255,255,255,${0.12 + 0.10*s.d})`);
      pathShard(w,h);
      ctx.globalAlpha = s.a; ctx.fillStyle = grad; ctx.fill();
      ctx.lineWidth = 1 * DPR; ctx.strokeStyle = `rgba(180,220,255,${0.28 + 0.18*s.d})`; ctx.stroke();
      // glare line
      ctx.globalAlpha = 0.22 + 0.12*s.d; ctx.beginPath(); ctx.moveTo(-w*0.25, -h*0.7); ctx.lineTo(w*0.18, -h*0.25); ctx.stroke();

      ctx.restore();
    }

    function assignReflections(){
      if(assignReflectionsOnce || !GLASS_IMAGES.length) return;
      const reflectCount = Math.floor(SHARDS.length * 0.28); // ~28% осколков с отражением
      const used = new Set(); let k = 0;
      while(used.size < reflectCount){ used.add(Math.floor(Math.random()*SHARDS.length)); }
      for(const idx of used){
        const s = SHARDS[idx];
        s.img = GLASS_IMAGES[k++ % GLASS_IMAGES.length];
        s.refScale = 0.7 + Math.random()*0.7; // 0.7..1.4
        s.refAlpha = 0.14 + Math.random()*0.20; // 0.14..0.34
        s.flip = Math.random() < 0.65;
        s.refUX = (Math.random()-0.5)*0.6; s.refUY = (Math.random()-0.5)*0.6;
      }
      assignReflectionsOnce = true;
    }

    function loop(now){
      // stronger softening already tuned outside
      mouse.x += (mouse.tx - mouse.x)*0.14; mouse.y += (mouse.ty - mouse.y)*0.14;

      // once images loaded, assign reflections just once
      if(GLASS_IMAGES.length) assignReflections();

      ctx.clearRect(0,0,W,H);
      const g = ctx.createRadialGradient(W*0.8,H*0.15, 20,  W*0.8,H*0.15, Math.max(W,H));
      g.addColorStop(0, 'rgba(60,110,190,0.20)'); g.addColorStop(1, 'rgba(10,15,22,0.0)'); ctx.fillStyle = g; ctx.fillRect(0,0,W,H);

      const elapsed = now - t0;
      for(const s of SHARDS){
        if(elapsed <= HOLD){ s.r += s.vr * 0.15; }
        else if(elapsed <= HOLD + BURST){ const p = easeOutCubic((elapsed - HOLD) / BURST); s.x = (W/2) + (s.homeX - W/2) * p; s.y = (H/2) + (s.homeY - H/2) * p; s.r += s.vr * 0.5; }
        else { const parX = (mouse.x - 0.5) * 40 * (1.4 - s.d); const parY = (mouse.y - 0.5) * 40 * (1.4 - s.d); const tx = s.homeX + parX; const ty = s.homeY + parY; s.x += (tx - s.x) * 0.12; s.y += (ty - s.y) * 0.12; s.r += s.vr * 0.4; }
        drawShard(s);
      }
      requestAnimationFrame(loop);
    }

    resize(); requestAnimationFrame(loop);
  })();

  // ===== Lightbox viewer =====
  (function(){
    const viewer = document.getElementById('viewer');
    const vImg   = document.getElementById('viewerImg');
    const close  = document.getElementById('viewerClose');
    document.querySelectorAll('.gcard .gimg').forEach(img=>{
      img.addEventListener('click', ()=>{ vImg.src = img.src; viewer.classList.add('show'); viewer.setAttribute('aria-hidden','false'); });
    });
    function hide(){ viewer.classList.remove('show'); viewer.setAttribute('aria-hidden','true'); vImg.src=''; }
    close.addEventListener('click', hide);
    viewer.addEventListener('click', (e)=>{ if(e.target===viewer) hide(); });
    addEventListener('keydown', e=>{ if(e.key==='Escape') hide(); });
  })();

  // Smooth scroll for internal links
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', e=>{
      const id = a.getAttribute('href');
      if(id.length>1){ e.preventDefault(); document.querySelector(id)?.scrollIntoView({behavior:'smooth'}); }
    })
  })
  </script>
</body>
</html>
