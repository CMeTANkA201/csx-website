<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>CSX — приватный сервер</title>
<meta name="color-scheme" content="dark light" />
<style>
  :root{
    --bg:#0b0b0c; --fg:#ffffff; --muted:#bfbfbf;
    --glass-bg:rgba(255,255,255,0.06); --glass-stroke:rgba(255,255,255,0.18);
    --shadow:0 10px 30px rgba(0,0,0,0.45); --radius:18px; --blur:14px; --accent:#fff;
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    --card-w: 300px; /* ширина карточки на ПК */
    --card-h: 170px; /* высота превью */
  }
  @media (max-width:820px){
    :root{ --card-w: 210px; --card-h: 120px; }
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--fg);-webkit-font-smoothing:antialiased;line-height:1.45;overflow-x:hidden}

  #bg{position:fixed;inset:0;z-index:-1;background:radial-gradient(1200px 800px at 20% 10%,#111 0%,#0b0b0c 45%,#060607 100%)}
  canvas.dust{position:fixed;inset:0;z-index:-1;pointer-events:none;opacity:.55;mix-blend-mode:screen}

  header{position:sticky;top:0;z-index:10;backdrop-filter:blur(var(--blur));background:linear-gradient(to bottom,rgba(10,10,12,.7),rgba(10,10,12,.35));border-bottom:1px solid rgba(255,255,255,.08)}
  .container{max-width:1100px;margin:0 auto;padding:16px 18px}
  .brand{display:flex;align-items:center;gap:12px;letter-spacing:.3px;font-weight:700;font-size:1.05rem;text-transform:uppercase}
  .brand .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 18px rgba(255,255,255,.45)}

  nav.top{margin-top:12px;display:flex;gap:10px}
  .tab-btn{appearance:none;border:1px solid var(--glass-stroke);color:var(--fg);background:var(--glass-bg);backdrop-filter:blur(var(--blur));padding:10px 14px;border-radius:var(--radius);display:flex;align-items:center;gap:10px;box-shadow:var(--shadow);cursor:pointer;transition:.2s transform,.2s background,.2s border-color,.2s opacity;opacity:.95}
  .tab-btn[aria-selected="true"]{border-color:rgba(255,255,255,.35);background:rgba(255,255,255,.10)}
  .tab-btn:hover{transform:translateY(-1px)}
  .tab-btn svg{width:18px;height:18px;fill:none;stroke:currentColor;stroke-width:2}

  main{padding:28px 18px 110px}
  .panel{border:1px solid var(--glass-stroke);background:var(--glass-bg);backdrop-filter:blur(var(--blur));border-radius:calc(var(--radius) + 4px);box-shadow:var(--shadow);padding:20px}
  h1{font-size:1.6rem;margin:0 0 8px}
  p.lead{color:var(--muted);margin:0 0 18px}

  .cta-wrap{display:flex;flex-wrap:wrap;gap:12px;margin:14px 0 4px}
  .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:14px;text-decoration:none;color:#000;background:#fff;font-weight:700;border:1px solid rgba(255,255,255,.45);transition:.2s transform,.2s opacity,.2s box-shadow;box-shadow:0 6px 24px rgba(255,255,255,0.12)}
  .btn:active{transform:translateY(1px)}
  .btn.monochrome{background:#111;color:#fff;border-color:rgba(255,255,255,.25)}
  .btn svg{width:18px;height:18px;stroke:currentColor;stroke-width:2;fill:none}

  /* ======= ROW SLIDER ======= */
  .row-wrap{position:relative;margin-top:16px}
  .row{display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth;padding-bottom:6px}
  .row::-webkit-scrollbar{height:8px}
  .row::-webkit-scrollbar-thumb{background:rgba(255,255,255,.15);border-radius:8px}
  .item{flex:0 0 var(--card-w); scroll-snap-align:start}
  .shot{position:relative;border-radius:16px;border:1px solid rgba(255,255,255,.14);background:#0f0f10;overflow:hidden;box-shadow:0 6px 20px rgba(0,0,0,.35)}
  .shot::before{content:"";display:block;height:var(--card-h)} /* фиксированная высота ряда */
  .shot img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.02) saturate(.9)}

  .h-arrow{
    position:absolute;top:50%;transform:translateY(-50%);z-index:2;
    width:42px;height:42px;border-radius:50%;display:grid;place-items:center;cursor:pointer;
    background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.25);backdrop-filter:blur(var(--blur));
    transition:.2s opacity,.2s transform
  }
  .h-arrow:hover{transform:translateY(-50%) scale(1.04)}
  .h-arrow[disabled]{opacity:.35;pointer-events:none}
  .h-left{left:-6px} .h-right{right:-6px}
  .h-arrow svg{width:18px;height:18px;stroke:#fff}

  footer{color:var(--muted);padding:18px;text-align:center;border-top:1px solid rgba(255,255,255,.08);backdrop-filter:blur(var(--blur));background:linear-gradient(to top,rgba(10,10,12,.6),rgba(10,10,12,.28))}

  nav.bottom{position:fixed;bottom:0;left:0;right:0;z-index:12;display:none;padding:10px 12px calc(10px + var(--safe-area-bottom));backdrop-filter:blur(var(--blur));background:rgba(10,10,12,.5);border-top:1px solid rgba(255,255,255,.1)}
  .bottom .tab-btn{flex:1;justify-content:center;padding:10px 12px;font-size:.9rem}
  .bottom .tab-btn span{display:none}

  @media (max-width:820px){
    header .container{padding-bottom:10px}
    nav.top{display:none}
    nav.bottom{display:flex;gap:10px}
    main{padding:16px 12px 100px}
    .btn{width:100%;justify-content:center}
    h1{font-size:1.35rem}
  }

  .visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);border:0}
</style>
</head>
<body>
<div id="bg" aria-hidden="true"></div>
<canvas class="dust" id="dust" aria-hidden="true"></canvas>

<header role="banner">
  <div class="container">
    <div class="brand" aria-label="CSX приватный сервер">
      <span class="dot" aria-hidden="true"></span><span>CSX — приватный сервер</span>
    </div>
    <nav class="top" aria-label="Главная навигация (ПК/планшет)" role="tablist">
      <button class="tab-btn" role="tab" aria-selected="true" aria-controls="tab-home" data-tab="home">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 9.5l9-7 9 7"/><path d="M9 22V12h6v10"/><path d="M3 10v11h6"/><path d="M21 10v11h-6"/></svg><span>Главная</span>
      </button>
      <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-download" data-tab="download">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v12"/><path d="M7 10l5 5 5-5"/><path d="M5 21h14"/></svg><span>Скачать CSX</span>
      </button>
      <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-tg" data-tab="tg">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 3L2 11l6 2 2 6 4-4 4 3 4-15z"/><path d="M8 13l4 3"/></svg><span>Телеграмм разработчика</span>
      </button>
    </nav>
  </div>
</header>

<nav class="bottom" aria-label="Главная навигация (мобильная)" role="tablist">
  <button class="tab-btn" role="tab" aria-selected="true" aria-controls="tab-home" data-tab="home" aria-label="Главная">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 9.5l9-7 9 7"/><path d="M9 22V12h6v10"/><path d="M3 10v11h6"/><path d="M21 10v11h-6"/></svg><span>Главная</span>
  </button>
  <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-download" data-tab="download" aria-label="Скачать CSX">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v12"/><path d="M7 10l5 5 5-5"/><path d="M5 21h14"/></svg><span>Скачать</span>
  </button>
  <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-tg" data-tab="tg" aria-label="Телеграмм">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 3L2 11l6 2 2 6 4-4 4 3 4-15z"/><path d="M8 13l4 3"/></svg><span>Telegram</span>
  </button>
</nav>

<main id="main" class="container" role="main">
  <!-- HOME -->
  <section id="tab-home" class="panel tab" role="tabpanel" aria-labelledby="Главная">
    <h1>Сайт для скачивание приватного сервера CSX</h1>
    <div class="cta-wrap" role="group" aria-label="Действия">
      <a class="btn monochrome" id="to-download" href="#download" aria-label="Перейти на страницу загрузки">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 12h16"/><path d="M12 4v16"/></svg>
        <span>Перейти на страницу загрузки</span>
      </a>
    </div>

    <!-- Ряд скриншотов -->
    <div class="row-wrap" id="row-home-wrap" hidden>
      <button class="h-arrow h-left" id="home-left" aria-label="Влево" hidden>
        <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
      </button>
      <div class="row" id="row-home" aria-live="polite"></div>
      <button class="h-arrow h-right" id="home-right" aria-label="Вправо" hidden>
        <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg>
      </button>
    </div>
  </section>

  <!-- DOWNLOAD -->
  <section id="tab-download" class="panel tab" hidden role="tabpanel" aria-labelledby="Скачать CSX">
    <h1>Скачать CSX</h1>
    <p class="lead">Файл загружается напрямую с Google Drive</p>
    <div class="cta-wrap">
      <button class="btn" id="download-apk" aria-label="Скачать APK CSX">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v12"/><path d="M7 10l5 5 5-5"/><path d="M5 21h14"/></svg>
        <span>Скачать CSX.apk</span>
      </button>
    </div>

    <!-- Ряд скриншотов -->
    <div class="row-wrap" id="row-down-wrap" hidden>
      <button class="h-arrow h-left" id="down-left" aria-label="Влево" hidden>
        <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
      </button>
      <div class="row" id="row-down" aria-live="polite"></div>
      <button class="h-arrow h-right" id="down-right" aria-label="Вправо" hidden>
        <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg>
      </button>
    </div>
  </section>

  <!-- TELEGRAM -->
  <section id="tab-tg" class="panel tab" hidden role="tabpanel" aria-labelledby="Телеграмм разработчика">
    <h1>Телеграмм разработчика</h1>
    <p class="lead">Каналы и контакты.</p>

    <!-- Основной -->
    <section class="panel" aria-label="Основной канал" style="margin:0 0 14px 0">
      <div class="cta-wrap">
        <a class="btn" href="tg://resolve?domain=Standoff_CSX" aria-label="Открыть Telegram канал Standoff_CSX">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 3L2 11l6 2 2 6 4-4 4 3 4-15z"/><path d="M8 13l4 3"/></svg>
          <span>Открыть в Telegram</span>
        </a>
        <a class="btn monochrome" href="https://t.me/Standoff_CSX" target="_blank" rel="noopener" aria-label="Открыть канал в браузере">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 3L2 11l6 2 2 6 4-4 4 3 4-15z"/><path d="M8 13l4 3"/></svg>
          <span>t.me/Standoff_CSX</span>
        </a>
      </div>
    </section>

    <!-- Личный — отдельным блоком ниже -->
    <section class="panel" aria-label="Личный канал разработчика">
      <p class="lead" style="margin-top:0">Личный канал со всеми сливами и новыми апдейтами.</p>
      <div class="cta-wrap">
        <a class="btn" href="tg://resolve?domain=lanonid_channel" aria-label="Открыть личный канал lanonid_channel">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 3L2 11l6 2 2 6 4-4 4 3 4-15z"/><path d="M8 13l4 3"/></svg>
          <span>Открыть в Telegram</span>
        </a>
        <a class="btn monochrome" href="https://t.me/lanonid_channel" target="_blank" rel="noopener" aria-label="Открыть личный канал в браузере">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 3L2 11l6 2 2 6 4-4 4 3 4-15z"/><path d="M8 13l4 3"/></svg>
          <span>t.me/lanonid_channel</span>
        </a>
      </div>
    </section>
  </section>
</main>

<footer role="contentinfo">
  <small>© <span id="year"></span> CSX. Чёрно-белый стеклянный интерфейс.</small>
</footer>

<script>
/* Год */
document.getElementById('year').textContent = new Date().getFullYear();

/* Табы */
const tabs = ["home","download","tg"];
const panels = Object.fromEntries(tabs.map(id=>[id,document.getElementById('tab-'+id)]));
function setTab(id){
  tabs.forEach(t=>{
    const sel=(t===id);
    panels[t].hidden=!sel;
    document.querySelectorAll(`[data-tab="${t}"]`).forEach(b=>b.setAttribute('aria-selected', String(sel)));
  });
  if (matchMedia('(max-width:820px)').matches) scrollTo({top:0,behavior:'smooth'});
  history.replaceState(null,"",`#${id}`);
}
document.querySelectorAll('[data-tab]').forEach(b=>b.addEventListener('click',()=>setTab(b.dataset.tab)));
document.getElementById('to-download').addEventListener('click', (e)=>{e.preventDefault();setTab('download')});
setTab((location.hash||'#home').replace('#',''));

/* Пыль на фоне */
(function(){
  const c=document.getElementById('dust'),x=c.getContext('2d');
  let w=c.width=innerWidth,h=c.height=innerHeight;
  const n=Math.min(220,Math.floor((w*h)/18000));
  const p=[...Array(n)].map(()=>({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()*2-1)*.15,vy:(Math.random()*2-1)*.15,r:Math.random()*1.4+.4,a:Math.random()*.35+.05}));
  addEventListener('resize',()=>{w=c.width=innerWidth;h=c.height=innerHeight},{passive:true});
  (function t(){x.clearRect(0,0,w,h);x.globalCompositeOperation='lighter';
    for(const s of p){s.x+=s.vx;s.y+=s.vy;if(s.x<-10)s.x=w+10;if(s.x>w+10)s.x=-10;if(s.y<-10)s.y=h+10;if(s.y>h+10)s.y=-10;
      x.beginPath();x.arc(s.x,s.y,s.r,0,Math.PI*2);x.fillStyle=`rgba(255,255,255,${s.a})`;x.fill();}
    requestAnimationFrame(t)})();
})();

/* ===== СКРИНЫ: грузим существующие и строим один ряд со стрелками ===== */
async function collectExisting(max=200){
  const EXT=['png','jpg','jpeg','webp','gif','PNG','JPG','JPEG','WEBP','GIF'];
  const names=[]; for(let i=1;i<=max;i++){ names.push(String(i).padStart(2,'0')); names.push(String(i)); }
  function probe(src){ return new Promise(res=>{ const im=new Image(); im.onload=()=>res(src); im.onerror=()=>res(null); im.decoding='async'; im.loading='lazy'; im.src=src; });}
  const out=[];
  for(const n of names){
    let found=null;
    for(const e of EXT){ const ok=await probe(`image/${n}.${e}`); if(ok){ found=ok; break; } }
    if(found){ // избегаем дублей 01 vs 1
      const base = n.replace(/^0+/,'');
      if(!out.some(s=>s.replace(/^.*\/(\d+)\.\w+$/,'$1')===base)) out.push(found);
    }
  }
  return out;
}

function makeRow(containerId, leftBtnId, rightBtnId, sources){
  if(!sources.length) return;
  const wrap = document.getElementById(containerId+'-wrap') || document.getElementById(containerId.replace('-row','')+'-wrap');
  const row = document.getElementById(containerId);
  const left = document.getElementById(leftBtnId), right = document.getElementById(rightBtnId);
  wrap.hidden = false;

  // заполнение
  row.innerHTML='';
  sources.forEach((src,i)=>{
    const it=document.createElement('div'); it.className='item';
    const fig=document.createElement('figure'); fig.className='shot';
    const img=document.createElement('img'); img.alt=`Скриншот ${i+1}`; img.src=src;
    fig.appendChild(img); it.appendChild(fig); row.appendChild(it);
  });

  function updateArrows(){
    // показываем стрелки только когда есть что листать
    const canLeft = row.scrollLeft > 2;
    const canRight = row.scrollLeft + row.clientWidth < row.scrollWidth - 2;
    left.hidden = right.hidden = false;
    left.toggleAttribute('disabled', !canLeft);
    right.toggleAttribute('disabled', !canRight);
    // если всё влезает — прячем обе
    if(row.scrollWidth <= row.clientWidth + 2){ left.hidden = right.hidden = true; }
  }
  function scrollByCards(dir){
    const card = row.querySelector('.item');
    const step = card ? card.getBoundingClientRect().width + 12 : row.clientWidth;
    row.scrollBy({left: dir*step, behavior:'smooth'});
  }
  left.addEventListener('click', ()=>scrollByCards(-1));
  right.addEventListener('click', ()=>scrollByCards(1));
  row.addEventListener('scroll', updateArrows, {passive:true});
  addEventListener('resize', updateArrows, {passive:true});
  // начальная инициализация
  setTimeout(updateArrows, 50);
}

(async function boot(){
  const imgs = await collectExisting(50); // возьмём до 50 реально существующих
  // на обе секции показываем один и тот же ряд
  makeRow('row-home','home-left','home-right',imgs);
  makeRow('row-down','down-left','down-right',imgs);

  // Если совсем пусто — подсказка
  if(!imgs.length){
    ['row-home','row-down'].forEach(id=>{
      const r = document.getElementById(id);
      const w = r.parentElement;
      w.hidden = false;
      r.innerHTML = `<div class="panel" role="note" style="width:100%">Скриншоты не найдены. Проверь путь <code>/image/01.png</code>, <code>/image/02.png</code> …</div>`;
    });
  }
})();

/* ===== Скачивание ===== */
const DRIVE_ID="12yTLnCPvpUk8-u2buWpQw-Sknqdjb-z_";
const DRIVE_URL=`https://drive.google.com/uc?export=download&id=${DRIVE_ID}`;
document.getElementById('download-apk').addEventListener('click', ()=>{ window.location.href = DRIVE_URL; });
</script>
</body>
</html>
